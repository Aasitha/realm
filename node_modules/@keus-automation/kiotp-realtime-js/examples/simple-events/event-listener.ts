import { KeusRealtimeCommunication } from "../../src/index"
import * as Config from '../config';

(async function () {
  let realtimeInst = new KeusRealtimeCommunication({
    host: Config.HOST,
    port: Config.PORT,
    token: Config.TOKEN
  });
  await realtimeInst.connect();
  console.log('connected');

  realtimeInst.jsonListenToEvents<Config.EVENTS.TestJSONEventData>(Config.EVENTS.EVENT_NAME_JSON, async (methodData) => {
    console.log('This is json event data', methodData);
  });

  realtimeInst.stringListenToEvents(Config.EVENTS.EVENT_NAME_STRING, async (methodData) => {
    console.log('This is string event data', methodData);
  });

  realtimeInst.binaryListenToEvents(Config.EVENTS.EVENT_NAME_BINARY, async (methodData) => {
    console.log('This is binary event data', methodData);
  });
})()
